(this.webpackJsonpmj=this.webpackJsonpmj||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),i=n.n(a),o=(n(82),n(116)),d=n(117),l=n(113),s=n(65),j=n(13),b=n.p+"static/media/BG1.ee4eb0f4.jpg",u=n(11),h=n.n(u),O=n(21),x=n(12),m=n(77),p=n(115),f=n(51),g=n(53),y=n(29),v=n(16),C=n(71),k=n(114),A=n(37),D=n(62),S=n(42),w=n(31),F=(n(76),n(73),n(3));0===w.a.apps.length&&w.a.initializeApp({apiKey:"AIzaSyCxgo6KOsYZxPJP7hlauQDX0LfiFZBpCLg",authDomain:"mfp6218016.firebaseapp.com",databaseUrl:"https://mfp6218016.firebaseio.com",projectId:"mfp6218016",storageBucket:"mfp6218016.appspot.com",messagingSenderId:"1056946972227",appId:"1:1056946972227:web:40cd6f1e3a8ecbf60b56f6"});var I=w.a.firestore();w.a.auth();function E(){var e=Object(c.useState)(),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(D.a)(),i=a.register,o=a.handleSubmit,d=Object(c.useState)(!1),l=Object(x.a)(d,2),s=l[0],j=l[1],b=Object(c.useState)([]),u=Object(x.a)(b,2),w=u[0],E=u[1],L=Object(c.useState)(0),T=Object(x.a)(L,2),P=T[0],R=T[1],J=Object(c.useState)(!1),V=Object(x.a)(J,2),q=V[0],M=V[1],N=Object(c.useState)([]),_=Object(x.a)(N,2),H=_[0],K=_[1],z=Object(c.useState)({id:null,createdAt:new Date,description:"",amount:null,category:null}),U=Object(x.a)(z,2),Z=U[0],G=U[1],Q=I.collection("money"),X=Q.orderBy("createdAt","asc").limitToLast(100),Y=Object(S.a)(X,{idField:"id"}),W=Object(x.a)(Y,1)[0],$=I.collection("category").orderBy("num","asc").limitToLast(100),ee=Object(S.a)($,{idField:"id"}),te=Object(x.a)(ee,1)[0];console.log("REACT_APP_PROJECT_ID","mfp6218016"),Object(c.useEffect)((function(){if(W){var e=0,t=W.map((function(t,n){return e+=t.amount,Object(F.jsx)(B,{data:t,i:n,onDeleteClick:re,onEditClick:ae})}));E(t),R(e)}}),[W]);var ne=function(){G({id:null,createdAt:new Date,description:"",amount:0,category:null}),r({}),j(!1),M(!1)},ce=function(){var e=Object(O.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={description:t.description,amount:parseFloat(t.amount),createdAt:new Date(t.createdAt),category:n},console.log("onSubmit",c),!q){e.next=8;break}return console.log("UPDATING!!!!",t.id),e.next=6,Q.doc(t.id).set(c).then((function(){return console.log("moneyRef has been set")})).catch((function(e){console.error("Error: ",e),alert(e)}));case 6:e.next=10;break;case 8:return e.next=10,Q.add(c).then((function(){return console.log("New record has been added.")})).catch((function(e){console.error("Errror:",e),alert(e)}));case 10:ne();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e){console.log("handleDeleteClick in Journal",e),window.confirm("Are you sure to delete this record?")&&Q.doc(e).delete()},ae=function(e){var t={id:e.id,description:e.description,amount:parseFloat(e.amount),createdAt:e.createdAt.toDate(),category:n};console.log("handleEditClick",t),G(t),r(e.category),j(!0),M(!0)};return Object(F.jsxs)(f.a,{children:[Object(F.jsx)(y.a,{children:Object(F.jsx)(v.a,{children:Object(F.jsx)("h1",{align:"center",children:"Journal"})})}),Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(v.a,{children:["Click to Refresh\u2192",Object(F.jsx)(A.a,{onClick:function(){if(te){var e=te.filter((function(e){return 0!=e.num}));K(e)}W.map((function(e,t){var n=te.filter((function(t){return t.num==e.category.num||-1==t.num})).reverse(),c={description:e.description,amount:parseFloat(e.amount),createdAt:e.createdAt.toDate(),category:n[0]};Q.doc(e.id).update(c).then((function(){return console.log("moneyRef has been set")})).catch((function(e){console.error("Error: ",e),alert(e)}))}))}}),Object(F.jsx)("br",{}),Object(F.jsxs)(m.a,{variant:"outline-dark",onClick:function(){j(!0)},children:[Object(F.jsx)(A.c,{})," Add"]})]}),Object(F.jsxs)(v.a,{children:["Category:",Object(F.jsx)(C.a,{options:te,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.num},onChange:function(e){if(console.log("filter",e),W){var t=0,n=W.filter((function(t){return 0==e.num||t.category.num==e.num})).map((function(e,n){return console.log("filter",e),t+=e.amount,Object(F.jsx)(B,{data:e,i:n})}));E(n),R(t)}}})]})]}),Object(F.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"#"}),Object(F.jsx)("th",{children:"Date"}),Object(F.jsx)("th",{children:"Description"}),Object(F.jsx)("th",{children:"Category"}),Object(F.jsx)("th",{children:"Amount"}),Object(F.jsx)("th",{children:"Edit"}),Object(F.jsx)("th",{children:"Delete"})]})}),Object(F.jsx)("tbody",{children:w}),Object(F.jsx)("tfooter",{children:Object(F.jsx)("td",{colSpan:5,children:Object(F.jsxs)("h2",{children:["Total: ",P]})})})]}),Object(F.jsx)(p.a,{show:s,onHide:ne,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(F.jsxs)("form",{onSubmit:o(ce),children:[Object(F.jsx)("input",{type:"hidden",placeholder:"ID",ref:i({required:!1}),name:"id",id:"id",defaultValue:Z.id}),Object(F.jsx)(p.a.Header,{closeButton:!0,children:Object(F.jsx)(p.a.Title,{children:q?"Edit Record":"Add New Record"})}),Object(F.jsxs)(p.a.Body,{children:[Object(F.jsxs)(y.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsx)("label",{htmlFor:"createdAt",children:"Date"})}),Object(F.jsx)(v.a,{children:Object(F.jsx)("input",{type:"date",placeholder:"Date",ref:i({required:!0}),name:"createdAt",id:"createdAt",defaultValue:Object(k.a)(Z.createdAt,"yyyy-MM-dd")})})]}),Object(F.jsxs)(y.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsx)("label",{htmlFor:"category",children:"Category"})}),Object(F.jsx)(v.a,{children:Object(F.jsx)(C.a,{id:"category",name:"category",value:n,placeholder:"Category",options:H,onChange:function(e){console.log("handleCategoryChange",e),r(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.num}})})]}),Object(F.jsxs)(y.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsx)("label",{htmlFor:"description",children:"Description"})}),Object(F.jsx)(v.a,{children:Object(F.jsx)("input",{type:"text",placeholder:"Description",ref:i({required:!0}),name:"description",id:"description",defaultValue:Z.description})})]}),Object(F.jsxs)(y.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsx)("label",{htmlFor:"amount",children:"Amount"})}),Object(F.jsx)(v.a,{children:Object(F.jsx)("input",{type:"number",step:"any",min:"0",placeholder:"Amount",ref:i({required:!0}),name:"amount",id:"amount",defaultValue:Z.amount})})]})]}),Object(F.jsxs)(p.a.Footer,{children:[Object(F.jsx)(m.a,{variant:"secondary",onClick:ne,children:"Close"}),Object(F.jsx)(m.a,{variant:q?"success":"primary",type:"submit",children:q?"Save Record":"Add Record"})]})]})})]})}function B(e){var t=e.data,n=e.i,c=I.collection("category").orderBy("num","asc").limitToLast(100),r=Object(S.a)(c,{idField:"id"}),a=Object(x.a)(r,1)[0];if(a){var i=a.filter((function(e){return e.num==t.category.num||-1==e.num})).reverse();return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:n+1}),Object(F.jsx)("td",{children:Object(k.a)(t.createdAt.toDate(),"yyyy-MM-dd")}),Object(F.jsx)("td",{children:t.description}),Object(F.jsx)("td",{children:i[0].name}),Object(F.jsx)("td",{children:t.amount}),Object(F.jsx)("td",{children:Object(F.jsx)(A.b,{onClick:function(){return e.onEditClick(t)}})}),Object(F.jsx)("td",{children:Object(F.jsx)(A.d,{onClick:function(){return e.onDeleteClick(t.id)}})})]})}return null}0===w.a.apps.length&&w.a.initializeApp({apiKey:"AIzaSyCxgo6KOsYZxPJP7hlauQDX0LfiFZBpCLg",authDomain:"mfp6218016.firebaseapp.com",databaseUrl:"https://mfp6218016.firebaseio.com",projectId:"mfp6218016",storageBucket:"mfp6218016.appspot.com",messagingSenderId:"1056946972227",appId:"1:1056946972227:web:40cd6f1e3a8ecbf60b56f6"});var L=w.a.firestore();w.a.auth();function T(){var e=Object(D.a)(),t=e.register,n=e.handleSubmit,r=Object(c.useState)(!1),a=Object(x.a)(r,2),i=a[0],o=a[1],d=Object(c.useState)([]),l=Object(x.a)(d,2),s=l[0],j=l[1],b=Object(c.useState)(!1),u=Object(x.a)(b,2),C=u[0],k=u[1],w=Object(c.useState)({num:null,name:""}),I=Object(x.a)(w,2),E=I[0],B=I[1],T=L.collection("category"),R=T.orderBy("num","asc").limitToLast(100),J=Object(S.a)(R,{idField:"id"}),V=Object(x.a)(J,1)[0];console.log("REACT_APP_PROJECT_ID","mfp6218016"),Object(c.useEffect)((function(){if(V){var e=V.map((function(e,t){return Object(F.jsx)(P,{data:e,i:t,onDeleteClick:N,onEditClick:_})}));j(e)}}),[V]);var q=function(){B({num:null,name:""}),o(!1),k(!1)},M=function(){var e=Object(O.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={num:parseFloat(t.num),name:t.name},console.log("onSubmit",n),!C){e.next=8;break}return console.log("UPDATING!!!!",t.id),e.next=6,T.doc(t.id).set(n).then((function(){return console.log("categoryRef has been set")})).catch((function(e){console.error("Error: ",e),alert(e)}));case 6:e.next=10;break;case 8:return e.next=10,T.add(n).then((function(){return console.log("New record has been added.")})).catch((function(e){console.error("Errror:",e),alert(e)}));case 10:q();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){console.log("handleDeleteClick in Category",e),window.confirm("Are you sure to delete this record?")&&T.doc(e).delete()},_=function(e){var t={num:parseFloat(e.num),name:e.name};console.log("handleEditClick",t),B(t),o(!0),k(!0)};return Object(F.jsxs)(f.a,{children:[Object(F.jsx)(y.a,{children:Object(F.jsxs)(v.a,{children:[Object(F.jsx)("h1",{align:"center",children:"Category"}),Object(F.jsxs)(m.a,{variant:"outline-dark",onClick:function(){return o(!0)},children:[Object(F.jsx)(A.c,{})," Add"]})]})}),Object(F.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"id"}),Object(F.jsx)("th",{children:"category"}),Object(F.jsx)("th",{children:"Delete"})]})}),Object(F.jsx)("tbody",{children:s})]}),Object(F.jsx)(p.a,{show:i,onHide:q,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(F.jsxs)("form",{onSubmit:n(M),children:[Object(F.jsx)("input",{type:"hidden",placeholder:"ID",ref:t({required:!1}),name:"id",id:"id",defaultValue:E.id}),Object(F.jsx)(p.a.Header,{closeButton:!0,children:Object(F.jsx)(p.a.Title,{children:C?"Edit Category":"Add New Category"})}),Object(F.jsxs)(p.a.Body,{children:[Object(F.jsxs)(y.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsx)("label",{htmlFor:"num",children:"id"})}),Object(F.jsx)(v.a,{children:Object(F.jsx)("input",{type:"number",step:"any",min:"0",placeholder:"id",ref:t({required:!0}),name:"num",id:"num",defaultValue:E.num})})]}),Object(F.jsxs)(y.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsx)("label",{htmlFor:"name",children:"category"})}),Object(F.jsx)(v.a,{children:Object(F.jsx)("input",{type:"text",placeholder:"category",ref:t({required:!0}),name:"name",id:"name",defaultValue:E.name})})]})]}),Object(F.jsxs)(p.a.Footer,{children:[Object(F.jsx)(m.a,{variant:"secondary",onClick:q,children:"Close"}),Object(F.jsx)(m.a,{variant:C?"success":"primary",type:"submit",children:C?"Save Category":"Add Category"})]})]})})]})}function P(e){var t=e.data;e.i;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:t.num}),Object(F.jsx)("td",{children:t.name}),Object(F.jsx)("td",{children:Object(F.jsx)(A.d,{onClick:function(){return e.onDeleteClick(t.id)}})})]})}function R(){return Object(F.jsx)("h1",{children:"Home"})}var J=function(){return Object(F.jsxs)("div",{style:{backgroundImage:"url(".concat(b,")")},children:[Object(F.jsxs)(s.a,{children:[Object(F.jsxs)(o.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(F.jsx)(o.a.Brand,{href:"/",children:"Money Journey"}),Object(F.jsx)(o.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(F.jsxs)(o.a.Collapse,{id:"responsive-navbar-nav",children:[Object(F.jsxs)(d.a,{className:"mr-auto",children:[Object(F.jsx)(d.a.Link,{children:Object(F.jsx)(s.b,{to:"/journal",children:"Journal"})}),Object(F.jsx)(d.a.Link,{children:Object(F.jsx)(s.b,{to:"/category",children:"Category"})}),Object(F.jsxs)(l.a,{title:"Dropdown",id:"collasible-nav-dropdown",children:[Object(F.jsx)(l.a.Item,{href:"#action/3.1",children:"Action"}),Object(F.jsx)(l.a.Item,{href:"#action/3.2",children:"Another action"}),Object(F.jsx)(l.a.Item,{href:"#action/3.3",children:"Something"}),Object(F.jsx)(l.a.Divider,{}),Object(F.jsx)(l.a.Item,{href:"#action/3.4",children:"Separated link"})]})]}),Object(F.jsxs)(d.a,{children:[Object(F.jsx)(d.a.Link,{href:"#deets",children:"More deets"}),Object(F.jsx)(d.a.Link,{eventKey:2,href:"#memes",children:"Sign Out"})]})]})]}),Object(F.jsxs)(j.c,{children:[Object(F.jsx)(j.a,{path:"/journal",children:Object(F.jsx)(E,{})}),Object(F.jsx)(j.a,{path:"/category",children:Object(F.jsx)(T,{})}),Object(F.jsx)(j.a,{path:"/",children:Object(F.jsx)(R,{})})]})]}),Object(F.jsx)("br",{})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(J,{})}),document.getElementById("root")),V()}},[[107,1,2]]]);
//# sourceMappingURL=main.d63cb49b.chunk.js.map