(this.webpackJsonpmj=this.webpackJsonpmj||[]).push([[0],{107:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(19),i=c.n(a),o=(c(82),c(116)),d=c(117),l=c(113),s=c(77),j=c(13),b=c(11),u=c.n(b),h=c(21),O=c(12),x=c(76),m=c(115),f=c(51),p=c(53),g=c(31),y=c(16),C=c(70),v=c(114),k=c(32),A=c(62),D=c(42),S=c(30),w=(c(75),c(72),c(3));0===S.a.apps.length&&S.a.initializeApp({apiKey:"AIzaSyCxgo6KOsYZxPJP7hlauQDX0LfiFZBpCLg",authDomain:"mfp6218016.firebaseapp.com",databaseUrl:"https://mfp6218016.firebaseio.com",projectId:"mfp6218016",storageBucket:"mfp6218016.appspot.com",messagingSenderId:"1056946972227",appId:"1:1056946972227:web:40cd6f1e3a8ecbf60b56f6"});var E=S.a.firestore();S.a.auth();function F(){var e=Object(n.useState)(),t=Object(O.a)(e,2),c=t[0],r=t[1],a=Object(A.a)(),i=a.register,o=a.handleSubmit,d=Object(n.useState)(!1),l=Object(O.a)(d,2),s=l[0],j=l[1],b=Object(n.useState)([]),S=Object(O.a)(b,2),F=S[0],L=S[1],T=Object(n.useState)(0),B=Object(O.a)(T,2),P=B[0],J=B[1],R=Object(n.useState)(!1),M=Object(O.a)(R,2),V=M[0],q=M[1],N=Object(n.useState)({id:null,createdAt:new Date,description:"",amount:null,category:null}),_=Object(O.a)(N,2),H=_[0],K=_[1],z=E.collection("money"),U=z.orderBy("createdAt","asc").limitToLast(100),Z=Object(D.a)(U,{idField:"id"}),G=Object(O.a)(Z,1)[0],Q=E.collection("category").orderBy("num","asc").limitToLast(100),X=Object(D.a)(Q,{idField:"id"}),Y=Object(O.a)(X,1)[0];console.log("REACT_APP_PROJECT_ID","mfp6218016"),Object(n.useEffect)((function(){if(G){var e=0,t=G.map((function(t,c){return e+=t.amount,Object(w.jsx)(I,{data:t,i:c,onDeleteClick:ee,onEditClick:te})}));L(t),J(e)}}),[G]);var W=function(){K({id:null,createdAt:new Date,description:"",amount:0,category:null}),r({}),j(!1),q(!1)},$=function(){var e=Object(h.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={description:t.description,amount:parseFloat(t.amount),createdAt:new Date(t.createdAt),category:c},console.log("onSubmit",n),!V){e.next=8;break}return console.log("UPDATING!!!!",t.id),e.next=6,z.doc(t.id).set(n).then((function(){return console.log("moneyRef has been set")})).catch((function(e){console.error("Error: ",e),alert(e)}));case 6:e.next=10;break;case 8:return e.next=10,z.add(n).then((function(){return console.log("New record has been added.")})).catch((function(e){console.error("Errror:",e),alert(e)}));case 10:W();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){console.log("handleDeleteClick in Journal",e),window.confirm("Are you sure to delete this record?")&&z.doc(e).delete()},te=function(e){var t={id:e.id,description:e.description,amount:parseFloat(e.amount),createdAt:e.createdAt.toDate(),category:c};console.log("handleEditClick",t),K(t),r(e.category),j(!0),q(!0)};return Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(g.a,{children:[Object(w.jsxs)(y.a,{children:[Object(w.jsx)("h1",{children:"Journal"}),Object(w.jsxs)(x.a,{variant:"outline-dark",onClick:function(){j(!0)},children:[Object(w.jsx)(k.b,{})," Add"]})]}),Object(w.jsxs)(y.a,{children:["Category:",Object(w.jsx)(C.a,{options:Y,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.num},onChange:function(e){if(console.log("filter",e),G){var t=0,c=G.filter((function(t){return 0==e.num||t.category.num==e.num})).map((function(e,c){return console.log("filter",e),t+=e.amount,Object(w.jsx)(I,{data:e,i:c})}));L(c),J(t)}}})]})]}),Object(w.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"#"}),Object(w.jsx)("th",{children:"Date"}),Object(w.jsx)("th",{children:"Description"}),Object(w.jsx)("th",{children:"Category"}),Object(w.jsx)("th",{children:"Amount"})]})}),Object(w.jsx)("tbody",{children:F}),Object(w.jsx)("tfooter",{children:Object(w.jsx)("td",{colSpan:5,children:Object(w.jsxs)("h2",{children:["Total: ",P]})})})]}),Object(w.jsx)(m.a,{show:s,onHide:W,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(w.jsxs)("form",{onSubmit:o($),children:[Object(w.jsx)("input",{type:"hidden",placeholder:"ID",ref:i({required:!1}),name:"id",id:"id",defaultValue:H.id}),Object(w.jsx)(m.a.Header,{closeButton:!0,children:Object(w.jsx)(m.a.Title,{children:V?"Edit Record":"Add New Record"})}),Object(w.jsxs)(m.a.Body,{children:[Object(w.jsxs)(g.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)("label",{htmlFor:"createdAt",children:"Date"})}),Object(w.jsx)(y.a,{children:Object(w.jsx)("input",{type:"date",placeholder:"Date",ref:i({required:!0}),name:"createdAt",id:"createdAt",defaultValue:Object(v.a)(H.createdAt,"yyyy-MM-dd")})})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)("label",{htmlFor:"category",children:"Category"})}),Object(w.jsx)(y.a,{children:Object(w.jsx)(C.a,{id:"category",name:"category",value:c,placeholder:"Category",options:Y,onChange:function(e){console.log("handleCategoryChange",e),r(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.num}})})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)("label",{htmlFor:"description",children:"Description"})}),Object(w.jsx)(y.a,{children:Object(w.jsx)("input",{type:"text",placeholder:"Description",ref:i({required:!0}),name:"description",id:"description",defaultValue:H.description})})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)("label",{htmlFor:"amount",children:"Amount"})}),Object(w.jsx)(y.a,{children:Object(w.jsx)("input",{type:"number",step:"any",min:"0",placeholder:"Amount",ref:i({required:!0}),name:"amount",id:"amount",defaultValue:H.amount})})]})]}),Object(w.jsxs)(m.a.Footer,{children:[Object(w.jsx)(x.a,{variant:"secondary",onClick:W,children:"Close"}),Object(w.jsx)(x.a,{variant:V?"success":"primary",type:"submit",children:V?"Save Record":"Add Record"})]})]})})]})}function I(e){var t=e.data,c=(e.i,E.collection("category").orderBy("num","asc").limitToLast(100)),n=Object(D.a)(c,{idField:"id"}),r=Object(O.a)(n,1)[0];if(r){var a=r.filter((function(e){return e.num==t.category.num||-1==e.num})).reverse();return Object(w.jsxs)("tr",{children:[Object(w.jsxs)("td",{children:[Object(w.jsx)(k.c,{onClick:function(){return e.onDeleteClick(t.id)}}),Object(w.jsx)(k.a,{onClick:function(){return e.onEditClick(t)}})]}),Object(w.jsx)("td",{children:Object(v.a)(t.createdAt.toDate(),"yyyy-MM-dd")}),Object(w.jsx)("td",{children:t.description}),Object(w.jsx)("td",{children:a[0].name}),Object(w.jsx)("td",{children:t.amount})]})}return Object(w.jsxs)("tr",{children:[Object(w.jsxs)("td",{children:[Object(w.jsx)(k.c,{onClick:function(){return e.onDeleteClick(t.id)}}),Object(w.jsx)(k.a,{onClick:function(){return e.onEditClick(t)}})]}),Object(w.jsx)("td",{children:Object(v.a)(t.createdAt.toDate(),"yyyy-MM-dd")}),Object(w.jsx)("td",{children:t.description}),Object(w.jsx)("td",{children:t.category.name}),Object(w.jsx)("td",{children:t.amount})]})}0===S.a.apps.length&&S.a.initializeApp({apiKey:"AIzaSyCxgo6KOsYZxPJP7hlauQDX0LfiFZBpCLg",authDomain:"mfp6218016.firebaseapp.com",databaseUrl:"https://mfp6218016.firebaseio.com",projectId:"mfp6218016",storageBucket:"mfp6218016.appspot.com",messagingSenderId:"1056946972227",appId:"1:1056946972227:web:40cd6f1e3a8ecbf60b56f6"});var L=S.a.firestore();S.a.auth();function T(){var e=Object(A.a)(),t=e.register,c=e.handleSubmit,r=Object(n.useState)(!1),a=Object(O.a)(r,2),i=a[0],o=a[1],d=Object(n.useState)([]),l=Object(O.a)(d,2),s=l[0],j=l[1],b=Object(n.useState)(!1),C=Object(O.a)(b,2),v=C[0],S=C[1],E=Object(n.useState)({num:null,name:""}),F=Object(O.a)(E,2),I=F[0],T=F[1],P=L.collection("category"),J=P.orderBy("num","asc").limitToLast(100),R=Object(D.a)(J,{idField:"id"}),M=Object(O.a)(R,1)[0];console.log("REACT_APP_PROJECT_ID","mfp6218016"),Object(n.useEffect)((function(){if(M){var e=M.map((function(e,t){return Object(w.jsx)(B,{data:e,i:t,onDeleteClick:N,onEditClick:_})}));j(e)}}),[M]);var V=function(){T({num:null,name:""}),o(!1),S(!1)},q=function(){var e=Object(h.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={num:t.num,name:t.name},console.log("onSubmit",c),!v){e.next=8;break}return console.log("UPDATING!!!!",t.id),e.next=6,P.doc(t.id).set(c).then((function(){return console.log("categoryRef has been set")})).catch((function(e){console.error("Error: ",e),alert(e)}));case 6:e.next=10;break;case 8:return e.next=10,P.add(c).then((function(){return console.log("New record has been added.")})).catch((function(e){console.error("Errror:",e),alert(e)}));case 10:V();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){console.log("handleDeleteClick in Category",e),window.confirm("Are you sure to delete this record?")&&P.doc(e).delete()},_=function(e){var t={num:e.num,name:e.name};console.log("handleEditClick",t),T(t),o(!0),S(!0)};return Object(w.jsxs)(f.a,{children:[Object(w.jsx)(g.a,{children:Object(w.jsxs)(y.a,{children:[Object(w.jsx)("h1",{children:"Category"}),Object(w.jsxs)(x.a,{variant:"outline-dark",onClick:function(){return o(!0)},children:[Object(w.jsx)(k.b,{})," Add"]})]})}),Object(w.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"#"}),Object(w.jsx)("th",{children:"id"}),Object(w.jsx)("th",{children:"category"})]})}),Object(w.jsx)("tbody",{children:s})]}),Object(w.jsx)(m.a,{show:i,onHide:V,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(w.jsxs)("form",{onSubmit:c(q),children:[Object(w.jsx)("input",{type:"hidden",placeholder:"ID",ref:t({required:!1}),name:"id",id:"id",defaultValue:I.id}),Object(w.jsx)(m.a.Header,{closeButton:!0,children:Object(w.jsx)(m.a.Title,{children:v?"Edit Category":"Add New Category"})}),Object(w.jsxs)(m.a.Body,{children:[Object(w.jsxs)(g.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)("label",{htmlFor:"num",children:"id"})}),Object(w.jsx)(y.a,{children:Object(w.jsx)("input",{type:"text",placeholder:"id",ref:t({required:!0}),name:"num",id:"num",defaultValue:I.num})})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)("label",{htmlFor:"name",children:"category"})}),Object(w.jsx)(y.a,{children:Object(w.jsx)("input",{type:"text",placeholder:"category",ref:t({required:!0}),name:"name",id:"name",defaultValue:I.name})})]})]}),Object(w.jsxs)(m.a.Footer,{children:[Object(w.jsx)(x.a,{variant:"secondary",onClick:V,children:"Close"}),Object(w.jsx)(x.a,{variant:v?"success":"primary",type:"submit",children:v?"Save Category":"Add Category"})]})]})})]})}function B(e){var t=e.data;e.i;return Object(w.jsxs)("tr",{children:[Object(w.jsxs)("td",{children:[Object(w.jsx)(k.c,{onClick:function(){return e.onDeleteClick(t.id)}}),Object(w.jsx)(k.a,{onClick:function(){return e.onEditClick(t)}})]}),Object(w.jsx)("td",{children:t.num}),Object(w.jsx)("td",{children:t.name})]})}function P(){return Object(w.jsx)("h1",{children:"Home"})}var J=function(){return Object(w.jsxs)(s.a,{children:[Object(w.jsxs)(o.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(w.jsx)(o.a.Brand,{href:"/",children:"Money Journey"}),Object(w.jsx)(o.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(w.jsxs)(o.a.Collapse,{id:"responsive-navbar-nav",children:[Object(w.jsxs)(d.a,{className:"mr-auto",children:[Object(w.jsx)(d.a.Link,{href:"/journal",children:"Journal"}),Object(w.jsx)(d.a.Link,{href:"/category",children:"Category"}),Object(w.jsxs)(l.a,{title:"Dropdown",id:"collasible-nav-dropdown",children:[Object(w.jsx)(l.a.Item,{href:"#action/3.1",children:"Action"}),Object(w.jsx)(l.a.Item,{href:"#action/3.2",children:"Another action"}),Object(w.jsx)(l.a.Item,{href:"#action/3.3",children:"Something"}),Object(w.jsx)(l.a.Divider,{}),Object(w.jsx)(l.a.Item,{href:"#action/3.4",children:"Separated link"})]})]}),Object(w.jsxs)(d.a,{children:[Object(w.jsx)(d.a.Link,{href:"#deets",children:"More deets"}),Object(w.jsx)(d.a.Link,{eventKey:2,href:"#memes",children:"Sign Out"})]})]})]}),Object(w.jsxs)(j.c,{children:[Object(w.jsx)(j.a,{path:"/journal",children:Object(w.jsx)(F,{})}),Object(w.jsx)(j.a,{path:"/category",children:Object(w.jsx)(T,{})}),Object(w.jsx)(j.a,{path:"/",children:Object(w.jsx)(P,{})})]})]})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,118)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(J,{})}),document.getElementById("root")),R()}},[[107,1,2]]]);
//# sourceMappingURL=main.d167f164.chunk.js.map