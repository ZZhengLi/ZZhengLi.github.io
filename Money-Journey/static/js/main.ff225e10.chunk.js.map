{"version":3,"sources":["img/BG1.jpg","Journal.js","Category.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","apps","length","initializeApp","apiKey","process","authDomain","databaseUrl","projectId","storageBucket","messagingSenderId","appId","firestore","auth","Journal","useState","category","setCategory","useForm","register","handleSubmit","showForm","setShowForm","records","setRecords","total","setTotal","editMode","setEditMode","CF","setCF","id","createdAt","Date","description","amount","tempData","setTempData","moneyRef","collection","query","orderBy","limitToLast","useCollectionData","idField","data","query2","categories","console","log","useEffect","t","r","map","d","i","JournalRow","onDeleteClick","handleDeleteClick","onEditClick","handleEditClick","handleCloseForm","onSubmit","a","preparedData","parseFloat","doc","set","then","catch","error","alert","add","window","confirm","delete","toDate","Container","Row","Col","align","onClick","categoriesf","filter","c","num","filteredCategory","reverse","update","Button","variant","options","getOptionLabel","x","name","getOptionValue","onChange","obj","Table","striped","bordered","hover","colSpan","Modal","show","onHide","aria-labelledby","centered","type","placeholder","ref","required","defaultValue","Header","closeButton","Title","Body","htmlFor","format","value","step","min","Footer","props","Category","categoryRef","CategoryRow","Home","App","style","backgroundImage","background","Navbar","collapseOnSelect","expand","bg","Brand","to","Toggle","aria-controls","Collapse","Nav","className","Link","NavDropdown","title","Item","href","Divider","eventKey","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff225e10.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/BG1.ee4eb0f4.jpg\";","import { useState, useEffect } from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Select from 'react-select'\r\nimport { format } from 'date-fns'\r\nimport { BsPlus, BsTrash, BsPencil, BsArrowRepeat } from \"react-icons/bs\";\r\nimport { useForm } from \"react-hook-form\"\r\n\r\n// Firebase\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nif (firebase.apps.length === 0) {\r\n  firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseUrl: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID\r\n  })\r\n}\r\nconst firestore = firebase.firestore()\r\nconst auth = firebase.auth()\r\n\r\nexport default function Journal() {\r\n  const [category, setCategory] = useState()\r\n  const { register, handleSubmit } = useForm()\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [records, setRecords] = useState([])\r\n  const [total, setTotal] = useState(0)\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [CF, setCF] = useState([])\r\n  const [tempData, setTempData] = useState({\r\n    id: null,\r\n    createdAt: new Date(),\r\n    description: '',\r\n    amount: null,\r\n    category: null\r\n  })\r\n\r\n  // Firebase stuff\r\n  const moneyRef = firestore.collection('money');\r\n  const query = moneyRef.orderBy('createdAt', 'asc').limitToLast(100);\r\n  const [data] = useCollectionData(query, { idField: 'id' });\r\n\r\n  const categoryRef = firestore.collection('category');\r\n  const query2 = categoryRef.orderBy('num', 'asc').limitToLast(100);\r\n  const [categories] = useCollectionData(query2, { idField: 'id' });\r\n\r\n  console.log(\"REACT_APP_PROJECT_ID\", process.env.REACT_APP_PROJECT_ID)\r\n\r\n  // This will be run when 'data' is changed.\r\n  useEffect(() => {\r\n    if (data) { // Guard condition\r\n      let t = 0\r\n      let r = data.map((d, i) => {\r\n        // console.log('useEffect', format(d.createdAt.toDate(), \"yyyy-MM-dd\"))\r\n        t += d.amount\r\n        return (\r\n          <JournalRow\r\n            data={d}\r\n            i={i}\r\n            onDeleteClick={handleDeleteClick}\r\n            onEditClick={handleEditClick}\r\n          />\r\n        )\r\n      })\r\n\r\n      setRecords(r)\r\n      setTotal(t)\r\n    }\r\n  },\r\n    [data])\r\n\r\n\r\n  const handleCategoryFilterChange = (obj) => {\r\n    console.log('filter', obj)\r\n    if (data) { // Guard condition\r\n      let t = 0\r\n      let filteredData = data.filter(d => obj.num == 0 || d.category.num == obj.num)\r\n      let r = filteredData.map((d, i) => {\r\n        console.log('filter', d)\r\n        t += d.amount\r\n        return (\r\n          <JournalRow data={d} i={i} />\r\n        )\r\n      })\r\n      setRecords(r)\r\n      setTotal(t)\r\n    }\r\n  }\r\n\r\n\r\n  // Handlers for Modal Add Form\r\n  const handleshowForm = () => {\r\n    setShowForm(true)\r\n  }\r\n\r\n\r\n  const handleRefresh = () => {\r\n    if (categories) {\r\n      let categoriesf = categories.filter(c => c.num != 0)\r\n      setCF(categoriesf)\r\n    }\r\n    data.map((d, i) => {\r\n      let filteredCategory = categories.filter(c => c.num == d.category.num || c.num == -1).reverse()\r\n      let preparedData = {\r\n        description: d.description,\r\n        amount: parseFloat(d.amount),\r\n        createdAt: d.createdAt.toDate(),\r\n        category: filteredCategory[0]\r\n      }\r\n      moneyRef.doc(d.id)\r\n        .update(preparedData)\r\n        .then(() => console.log(\"moneyRef has been set\"))\r\n        .catch((error) => {\r\n          console.error(\"Error: \", error);\r\n          alert(error)\r\n        });\r\n    })\r\n  }\r\n\r\n  // Handlers for Modal Add Form\r\n  const handleCloseForm = () => {\r\n    setTempData({\r\n      id: null,\r\n      createdAt: new Date(),\r\n      description: '',\r\n      amount: 0,\r\n      category: null\r\n    })\r\n    setCategory({})\r\n    setShowForm(false)\r\n    setEditMode(false)\r\n  }\r\n\r\n  // Handle Add Form submit\r\n  const onSubmit = async (data) => {\r\n    let preparedData = {\r\n      // ...data,\r\n      description: data.description,\r\n      amount: parseFloat(data.amount),\r\n      createdAt: new Date(data.createdAt),\r\n      category: category\r\n    }\r\n    console.log('onSubmit', preparedData)\r\n\r\n\r\n    if (editMode) {\r\n      // Update record\r\n      console.log(\"UPDATING!!!!\", data.id)\r\n      await moneyRef.doc(data.id)\r\n        .set(preparedData)\r\n        .then(() => console.log(\"moneyRef has been set\"))\r\n        .catch((error) => {\r\n          console.error(\"Error: \", error);\r\n          alert(error)\r\n        });\r\n    } else {\r\n      // Add to firebase\r\n      // This is asynchronous operation, \r\n      // JS will continue process later, so we can set \"callback\" function\r\n      // so the callback functions will be called when firebase finishes.\r\n      // Usually, the function is called \"then / error / catch\".\r\n      await moneyRef\r\n        .add(preparedData)\r\n        .then(() => console.log(\"New record has been added.\"))\r\n        .catch((error) => {\r\n          console.error(\"Errror:\", error)\r\n          alert(error)\r\n        })\r\n      // setShowForm(false)\r\n    }\r\n    handleCloseForm()\r\n  }\r\n\r\n  const handleCategoryChange = (obj) => {\r\n    console.log('handleCategoryChange', obj)\r\n    setCategory(obj)\r\n  }\r\n\r\n  const handleDeleteClick = (id) => {\r\n    console.log('handleDeleteClick in Journal', id)\r\n    if (window.confirm(\"Are you sure to delete this record?\"))\r\n      moneyRef.doc(id).delete()\r\n  }\r\n\r\n  const handleEditClick = (data) => {\r\n    let preparedData = {\r\n      id: data.id,\r\n      description: data.description,\r\n      amount: parseFloat(data.amount),\r\n      createdAt: data.createdAt.toDate(),\r\n      category: category\r\n    }\r\n    console.log(\"handleEditClick\", preparedData)\r\n    // expect original data type for data.createdAt is Firebase's timestamp\r\n    // convert to JS Date object and put it to the same field\r\n    // if ('toDate' in data.createdAt) // guard, check wther toDate() is available in createdAt object.\r\n    //   data.createdAt = data.createdAt.toDate()\r\n\r\n    setTempData(preparedData)\r\n    setCategory(data.category)\r\n    setShowForm(true)\r\n    setEditMode(true)\r\n  }\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <h1 align=\"center\">Journal</h1>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n        Click to Refresh→<BsArrowRepeat onClick={handleRefresh} /><br></br>\r\n          <Button variant=\"outline-dark\" onClick={handleshowForm}>\r\n            <BsPlus /> Add\r\n      </Button>\r\n        </Col>\r\n        <Col>Category:\r\n          <Select\r\n            options={categories} //.filter(c => c.num != -1)\r\n            getOptionLabel={x => x.name}\r\n            getOptionValue={x => x.num}\r\n            onChange={handleCategoryFilterChange}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table striped bordered hover variant=\"dark\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Date</th>\r\n            <th>Description</th>\r\n            <th>Category</th>\r\n            <th>Amount</th>\r\n            <th>Edit</th>\r\n            <th>Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {records}\r\n        </tbody>\r\n        <tfooter>\r\n          <td colSpan={5}>\r\n            <h2>Total: {total}</h2>\r\n          </td>\r\n        </tfooter>\r\n      </Table>\r\n\r\n\r\n      <Modal\r\n        show={showForm} onHide={handleCloseForm}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <input\r\n            type=\"hidden\"\r\n            placeholder=\"ID\"\r\n            ref={register({ required: false })}\r\n            name=\"id\"\r\n            id=\"id\"\r\n            defaultValue={tempData.id}\r\n          />\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              {editMode ? \"Edit Record\" : \"Add New Record\"}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col>\r\n                <label htmlFor=\"createdAt\">Date</label>\r\n              </Col>\r\n              <Col>\r\n                <input\r\n                  type=\"date\"\r\n                  placeholder=\"Date\"\r\n                  ref={register({ required: true })}\r\n                  name=\"createdAt\"\r\n                  id=\"createdAt\"\r\n                  defaultValue={format(tempData.createdAt, \"yyyy-MM-dd\")}\r\n                />\r\n\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col>\r\n                <label htmlFor=\"category\">Category</label>\r\n              </Col>\r\n              <Col>\r\n                <Select\r\n                  id=\"category\"\r\n                  name=\"category\"\r\n                  value={category}\r\n                  placeholder=\"Category\"\r\n                  options={CF} //.filter(c => c.num != 0)\r\n                  onChange={handleCategoryChange}\r\n                  getOptionLabel={x => x.name}\r\n                  getOptionValue={x => x.num}\r\n                />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col>\r\n                <label htmlFor=\"description\">Description</label>\r\n              </Col>\r\n              <Col>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Description\"\r\n                  ref={register({ required: true })}\r\n                  name=\"description\"\r\n                  id=\"description\"\r\n                  defaultValue={tempData.description}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <label htmlFor=\"amount\">Amount</label>\r\n              </Col>\r\n              <Col>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"any\"\r\n                  min=\"0\"\r\n                  placeholder=\"Amount\"\r\n                  ref={register({ required: true })}\r\n                  name=\"amount\"\r\n                  id=\"amount\"\r\n                  defaultValue={tempData.amount}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleCloseForm}>\r\n              Close\r\n          </Button>\r\n            <Button variant={editMode ? \"success\" : \"primary\"} type=\"submit\">\r\n              {editMode ? \"Save Record\" : \"Add Record\"}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </form>\r\n      </Modal>\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction JournalRow(props) {\r\n  let d = props.data\r\n  let i = props.i\r\n  // console.log(\"JournalRow\", d)\r\n  const categoryRef = firestore.collection('category');\r\n  const query2 = categoryRef.orderBy('num', 'asc').limitToLast(100);\r\n  const [categories] = useCollectionData(query2, { idField: 'id' });\r\n\r\n  if (categories) {\r\n    let filteredCategory = categories.filter(c => c.num == d.category.num || c.num == -1).reverse()\r\n    return (\r\n      <tr>\r\n        <td>{i + 1}</td>\r\n        <td>{format(d.createdAt.toDate(), \"yyyy-MM-dd\")}</td>\r\n        <td>{d.description}</td>\r\n        <td>{filteredCategory[0].name}</td>\r\n        <td>{d.amount}</td>\r\n        <td>\r\n          <BsPencil onClick={() => props.onEditClick(d)} />\r\n        </td>\r\n        <td>\r\n          <BsTrash onClick={() => props.onDeleteClick(d.id)} />\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n  else {\r\n    return null\r\n  }\r\n\r\n}","import { useState, useEffect } from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { BsPlus, BsTrash, BsPencil } from \"react-icons/bs\";\r\nimport { useForm } from \"react-hook-form\"\r\n\r\n// Firebase\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nif (firebase.apps.length === 0) {\r\n  firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseUrl: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID\r\n  })\r\n}\r\nconst firestore = firebase.firestore()\r\nconst auth = firebase.auth()\r\n\r\nexport default function Category() {\r\n  const { register, handleSubmit } = useForm()\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [records, setRecords] = useState([])\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [tempData, setTempData] = useState({\r\n    num: null,\r\n    name: ''\r\n  })\r\n\r\n  // Firebase stuff\r\n  const categoryRef = firestore.collection('category');\r\n  const query = categoryRef.orderBy('num', 'asc').limitToLast(100);\r\n  const [data] = useCollectionData(query, { idField: 'id' });\r\n\r\n\r\n  console.log(\"REACT_APP_PROJECT_ID\", process.env.REACT_APP_PROJECT_ID)\r\n\r\n  // This will be run when 'data' is changed.\r\n  useEffect(() => {\r\n    if (data) { // Guard condition\r\n      let r = data.map((d, i) => {\r\n        return (\r\n          <CategoryRow\r\n            data={d}\r\n            i={i}\r\n            onDeleteClick={handleDeleteClick}\r\n            onEditClick={handleEditClick}\r\n          />\r\n        )\r\n      })\r\n\r\n      setRecords(r)\r\n    }\r\n  },\r\n    [data])\r\n\r\n  // Handlers for Modal Add Form\r\n  const handleshowForm = () => setShowForm(true)\r\n\r\n  // Handlers for Modal Add Form\r\n  const handleCloseForm = () => {\r\n    setTempData({\r\n      num: null,\r\n      name: ''\r\n    })\r\n    setShowForm(false)\r\n    setEditMode(false)\r\n  }\r\n\r\n  // Handle Add Form submit\r\n  const onSubmit = async (data) => {\r\n    let preparedData = {\r\n      // ...data,\r\n      num: parseFloat(data.num),\r\n      name: data.name\r\n    }\r\n    console.log('onSubmit', preparedData)\r\n\r\n\r\n    if (editMode) {\r\n      // Update record\r\n      console.log(\"UPDATING!!!!\", data.id)\r\n      await categoryRef.doc(data.id)\r\n        .set(preparedData)\r\n        .then(() => console.log(\"categoryRef has been set\"))\r\n        .catch((error) => {\r\n          console.error(\"Error: \", error);\r\n          alert(error)\r\n        });\r\n    } else {\r\n      // Add to firebase\r\n      // This is asynchronous operation, \r\n      // JS will continue process later, so we can set \"callback\" function\r\n      // so the callback functions will be called when firebase finishes.\r\n      // Usually, the function is called \"then / error / catch\".\r\n      await categoryRef\r\n        .add(preparedData)\r\n        .then(() => console.log(\"New record has been added.\"))\r\n        .catch((error) => {\r\n          console.error(\"Errror:\", error)\r\n          alert(error)\r\n        })\r\n      // setShowForm(false)\r\n    }\r\n    handleCloseForm()\r\n  }\r\n\r\n  const handleDeleteClick = (id) => {\r\n    console.log('handleDeleteClick in Category', id)\r\n    if (window.confirm(\"Are you sure to delete this record?\"))\r\n      categoryRef.doc(id).delete()\r\n  }\r\n\r\n  const handleEditClick = (data) => {\r\n    let preparedData = {\r\n      num: parseFloat(data.num),\r\n      name: data.name\r\n    }\r\n    console.log(\"handleEditClick\", preparedData)\r\n    // expect original data type for data.createdAt is Firebase's timestamp\r\n    // convert to JS Date object and put it to the same field\r\n    // if ('toDate' in data.createdAt) // guard, check wther toDate() is available in createdAt object.\r\n    //   data.createdAt = data.createdAt.toDate()\r\n\r\n    setTempData(preparedData)\r\n    setShowForm(true)\r\n    setEditMode(true)\r\n  }\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <h1 align=\"center\">Category</h1>\r\n          <Button variant=\"outline-dark\" onClick={handleshowForm}>\r\n            <BsPlus /> Add\r\n      </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Table striped bordered hover variant=\"dark\">\r\n        <thead>\r\n          <tr>\r\n            <th>id</th>\r\n            <th>category</th>\r\n            <th>Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {records}\r\n        </tbody>\r\n      </Table>\r\n\r\n      <Modal\r\n        show={showForm} onHide={handleCloseForm}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <input\r\n            type=\"hidden\"\r\n            placeholder=\"ID\"\r\n            ref={register({ required: false })}\r\n            name=\"id\"\r\n            id=\"id\"\r\n            defaultValue={tempData.id}\r\n          />\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              {editMode ? \"Edit Category\" : \"Add New Category\"}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col>\r\n                <label htmlFor=\"num\">id</label>\r\n              </Col>\r\n              <Col>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"any\"\r\n                  min=\"0\"\r\n                  placeholder=\"id\"\r\n                  ref={register({ required: true })}\r\n                  name=\"num\"\r\n                  id=\"num\"\r\n                  defaultValue={tempData.num}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <label htmlFor=\"name\">category</label>\r\n              </Col>\r\n              <Col>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"category\"\r\n                  ref={register({ required: true })}\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  defaultValue={tempData.name}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleCloseForm}>\r\n              Close\r\n          </Button>\r\n            <Button variant={editMode ? \"success\" : \"primary\"} type=\"submit\">\r\n              {editMode ? \"Save Category\" : \"Add Category\"}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </form>\r\n      </Modal>\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction CategoryRow(props) {\r\n  let d = props.data\r\n  let i = props.i\r\n  return (\r\n    <tr>\r\n      <td>{d.num}</td>\r\n      <td>{d.name}</td>\r\n      <td>\r\n        <BsTrash onClick={() => props.onDeleteClick(d.id)} />\r\n      </td>\r\n    </tr>\r\n  )\r\n}","import 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  Container,\n  Navbar, Nav, NavDropdown,\n} from 'react-bootstrap';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport background from \"./img/BG1.jpg\";\nimport Journal from './Journal'\nimport Category from './Category'\n\nfunction App() {\n  return (\n    <div style={{ backgroundImage: `url(${background})` }}>\n      <Router>\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n          <Navbar.Brand><Link to=\"/app\">Money Journey</Link></Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Nav.Link>\n                <Link to=\"/journal\">Journal</Link>\n              </Nav.Link>\n              <Nav.Link>\n                <Link to=\"/category\">Category</Link>\n              </Nav.Link>\n              <NavDropdown title=\"Dropdown\" id=\"collasible-nav-dropdown\">\n                <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n                <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\n                <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\n                <NavDropdown.Divider />\n                <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\n              </NavDropdown>\n            </Nav>\n            <Nav>\n              <Nav.Link href=\"#deets\">More deets</Nav.Link>\n              <Nav.Link eventKey={2} href=\"#memes\">\n                Sign Out\n      </Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n\n        <Switch>\n          <Route path=\"/journal\">\n            <Journal />\n          </Route>\n          <Route path=\"/category\">\n            <Category />\n          </Route>\n          <Route path=\"/app\">\n            <Home />\n          </Route>\n        </Switch>\n      </Router><br></br>\n    </div>\n  );\n}\n\nfunction Home() {\n  return (\n    <h1>Home</h1>\n  )\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}